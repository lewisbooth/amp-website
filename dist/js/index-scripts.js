"use strict";function initCanvas(){window.innerWidth<=1020||(resizeCanvas(),setInterval(function(){canvas.classList.contains("hidden")||stepCanvas()},1e3/30),setInterval(function(){if(!canvas.classList.contains("hidden")){var n=Math.floor(getRandom(0,nodes.length-1));pulse(nodes[n][0],nodes[n][1])}},config.pulse.frequency))}function getRandom(n,e){return Math.random()*(e-n)+n}function getNodeQuantity(){return Math.floor(winX/500*config.nodes.density)}function getDistance(n,e,i,o){var s=Math.abs(n-i),t=Math.abs(e-o);return Math.sqrt(Math.pow(s,2)+Math.pow(t,2))}function addNodes(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments[1],i=arguments[2],o=0;o<n;o++){var s=getRandom(1,winX),t=getRandom(1,winY),a=getRandom(-config.nodes.speed,config.nodes.speed)+getRandom(-config.nodes.speedVariation,config.nodes.speedVariation),c=getRandom(-config.nodes.speed,config.nodes.speed)+getRandom(-config.nodes.speedVariation,config.nodes.speedVariation),d=getRandom(-config.nodes.sizeVariation,config.nodes.sizeVariation)+config.nodes.size,f=[e||s,i||t,a,c,d,1];nodes.push(f)}}function resizeCanvas(){var n=winX,e=winY;winX=window.innerWidth,winY=window.innerHeight;var i=winX/n,o=winY/e;nodes.forEach(function(n){n[0]*=i,n[1]*=o});var s=getNodeQuantity();s>nodes.length?addNodes(s-nodes.length):s<nodes.length&&nodes.splice(s-1),c.canvas.width=winX,c.canvas.height=winY}function stepCanvas(){c.clearRect(0,0,canvas.width,canvas.height),nodes.forEach(function(n){c.beginPath();var e=n[4]*n[5];c.arc(n[0],n[1],e,0,360);var i=2*(n[5]-1)+config.nodes.nodeOpacity;c.fillStyle="rgba(225,225,225,"+i+")",c.fill(),nodes.forEach(function(e){var i=getDistance(n[0],n[1],e[0],e[1]);if(i<config.nodes.linkLength){c.beginPath(),c.moveTo(n[0],n[1]),c.lineTo(e[0],e[1]);var o=config.nodes.linkOpacity-config.nodes.linkOpacity/config.nodes.linkLength*i;o*=Math.pow(n[5],2),c.strokeStyle="rgba(225,225,225,"+o+")",c.lineWidth=1.5,c.stroke()}})}),nodes.forEach(function(n){(n[0]+n[2]<0||n[0]+n[2]>winX)&&(n[2]=-n[2]),(n[1]+n[3]<0||n[1]+n[3]>winY)&&(n[3]=-n[3]),n[0]+=n[2],n[1]+=n[3],pulses.forEach(function(e){var i=getDistance(n[0],n[1],e[0],e[1]);if(i<e[2]){n[5]=1+e[3]*config.pulse.intensity}})}),pulses.forEach(function(n){n[2]+=config.pulse.speed/30;var e=1/(30*config.pulse.falloff/1e3);n[3]<=e?pulses.unshift():n[3]-=e})}function pulse(n,e){pulses.push([n,e,0,1])}var config={nodes:{density:40,size:2,sizeVariation:.5,nodeOpacity:.5,speed:1,speedVariation:1,linkLength:200,linkOpacity:.2},pulse:{frequency:4e3,intensity:3,speed:400,falloff:2e3}},canvas=document.querySelector("#canvas"),c=canvas.getContext("2d"),pulses=[],nodes=[],winX=window.innerWidth,winY=window.innerHeight;window.onresize=function(){window.innerWidth<=768||resizeCanvas()},document.addEventListener("click",function(n){if(!canvas.classList.contains("hidden")){var e=n.clientX,i=n.clientY;addNodes(1,e,i),pulse(e,i)}});
"use strict";var transitioning=!1,getQueryString=function(e,t){var n=t||window.location.href,i=new RegExp("[?&]"+e+"=([^&#]*)","i").exec(n);return i?i[1]:null};if(html.classList.contains("no-touch")&&window.innerWidth>1020){var load=function(){"services"===getQueryString("ref")?scrollDown():(transitioning=!0,canvas.classList.remove("hidden"),TweenMax.to(slideInBottom,1,{y:0,delay:.5,ease:Power3.easeInOut}).timeScale(1),TweenMax.to(slideInLeft,1,{x:0,ease:Power3.easeInOut}).timeScale(1),TweenMax.to(fadeIn,1,{opacity:1,ease:Power3.easeInOut}).timeScale(1),TweenMax.to(slideInLeftDelay,.6,{x:0,opacity:1,delay:.8,ease:Power1.easeNone}).timeScale(1),TweenMax.to("#canvas",.8,{opacity:1,delay:1.6,onComplete:function(){transitioning=!1},ease:Power0.easeNone}).timeScale(1)),window.addEventListener("wheel",scrollDetect),window.addEventListener("scroll",scrollDetect)},scrollDetect=function(e){serviceSliderAnimations(e),transitioning||(e.deltaY<0&&document.documentElement.scrollTop+document.body.scrollTop===0&&canvas.classList.contains("hidden")&&scrollUp(),e.deltaY>0&&document.documentElement.scrollTop+document.body.scrollTop===0&&!canvas.classList.contains("hidden")&&scrollDown())},scrollDown=function(){transitioning||(transitioning=!0,setTimeout(function(){transitioning=!1},2800),$(".scrollDown").addClass("transitioned"),TweenMax.to(canvas,.3,{opacity:0,ease:Power0.easeNone,display:"none",onComplete:function(){canvas.classList.add("hidden"),$("nav").removeClass("dark-split")}}).timeScale(1),TweenMax.to(slideOutLeft,1,{x:"-100%",ease:Power3.easeInOut}).timeScale(1),TweenMax.to(slideOutLeftFade,.4,{x:"-10%",opacity:0,ease:Power0.easeNone}).timeScale(1),TweenMax.to(services,.5,{opacity:1,delay:1,ease:Power0.easeNone}).timeScale(1),TweenMax.to(".service-text",.8,{opacity:1,delay:.6,ease:Power0.easeNone}).timeScale(1),TweenMax.staggerTo(".bubble",1.2,{opacity:1,scale:"1",delay:1.2,ease:Back.easeInOut},.3),TweenMax.to(mainBg,0,{maxHeight:"10000px",zIndex:"2",delay:1,ease:Power3.easeInOut}).timeScale(1),TweenMax.to(".scroll-wrapper",.2,{opacity:0,ease:Power0.easeNone,display:"none"}).timeScale(1))},scrollUp=function(){transitioning||(transitioning=!0,setTimeout(function(){transitioning=!1},1500),mainBg.style.maxHeight="100vh",mainBg.style.zIndex="1",$(".scrollDown").removeClass("transitioned"),TweenMax.to(slideOutLeft,1,{x:"0%",ease:Power3.easeInOut,delay:0}).timeScale(1),TweenMax.to(slideOutLeftFade,.6,{x:"0%",opacity:1,delay:1.2,ease:Power1.easeOut}).timeScale(1),TweenMax.to(services,.5,{opacity:0,onComplete:function(){$("nav").addClass("dark-split")},ease:Power0.easeIn}).timeScale(1),TweenMax.to(".bubble",.5,{opacity:0,scale:"0",ease:Back.easeInOut}).timeScale(1),TweenMax.to(canvas,.5,{opacity:1,delay:1.5,ease:Power0.easeNone,display:"block",onStart:function(){canvas.classList.remove("hidden")}}).timeScale(1),TweenMax.to(".scroll-wrapper",.2,{opacity:1,ease:Power0.easeNone,display:"block"}).timeScale(1))},serviceSliderAnimations=function(e){for(var t=window.scrollY,n=window.innerHeight,i=0;i<serviceSliders.length;i++){var a=serviceSliders[i].getBoundingClientRect(),o=(a.top,serviceSliders[i].offsetHeight);a.top<=n-o/2&&a.top>-Math.abs(o/2)?(serviceSliders[i].classList.remove("slide-out"),serviceSliders[i].querySelector("video")&&serviceSliders[i].querySelector("video").play()):serviceSliders[i].querySelector("video")&&serviceSliders[i].querySelector("video").pause()}},mainBg=document.querySelector(".main-bg"),colourChange=document.querySelectorAll(".change-colour"),slideOutLeft=document.querySelectorAll(".slide-out-left"),slideOutLeftFade=document.querySelectorAll(".slide-out-left-fade"),services=document.querySelector(".services"),navDown=document.querySelector("nav"),fadeIn=document.querySelectorAll(".fade-in"),slideInLeft=document.querySelectorAll(".slide-in-left"),slideInBottom=document.querySelectorAll(".slide-in-bottom"),slideInLeftDelay=document.querySelectorAll(".slide-in-left-delay"),serviceSliders=document.querySelectorAll(".service-card");$(".scrollDown").click(function(){$(this).hasClass("transitioned")?$("html, body").animate({scrollTop:1},500):scrollDown()}),$(".contactScroll").click(function(){$("html, body").animate({scrollTop:$(".contact").position().top},500)});var serviceBubbles=document.querySelectorAll(".bubble");$(serviceBubbles).hover(function(){TweenMax.to($(this),1,{scale:1.1,transformOrigin:"center center",force3D:!0,ease:Back.easeOut}).timeScale(1),TweenMax.to($(this).find(".outer-full"),1,{scale:1.2,transformOrigin:"center center",ease:Back.easeOut}).timeScale(1),TweenMax.to($(this).find(".outer-top"),1,{scale:1.1,transformOrigin:"center center",ease:Back.easeOut}).timeScale(1),TweenMax.to($(this).find(".inner-left"),1,{scale:.9,transformOrigin:"center center",ease:Back.easeOut}).timeScale(1),TweenMax.to($(this).find(".inner-right"),1,{scale:.9,transformOrigin:"center center",ease:Back.easeOut}).timeScale(1),TweenMax.to($(this).find(".outer-full"),10,{rotation:"360",transformOrigin:"center 49%",ease:Linear.easeNone,repeat:-1}).timeScale(1),TweenMax.to($(this).find(".outer-top"),3.5,{rotation:"-360",transformOrigin:"center center",ease:Power2.easeInOut,repeat:-1}).timeScale(1),TweenMax.to($(this).find(".inner-left"),5,{rotation:"-360",transformOrigin:"center center",ease:Linear.easeNone,repeat:-1}).timeScale(1),TweenMax.to($(this).find(".inner-right"),5,{rotation:"360",transformOrigin:"center center",ease:Linear.easeNone,repeat:-1}).timeScale(1)},function(){TweenMax.to($(this),1,{scale:1,transformOrigin:"center center",ease:Back.easeOut}).timeScale(1),TweenMax.to($(this).find(".outer-full"),.5,{scale:1,transformOrigin:"center center",ease:Linear.easeOut}).timeScale(1),TweenMax.to($(this).find(".outer-top"),.5,{scale:1,transformOrigin:"center center",ease:Linear.easeOut}).timeScale(1),TweenMax.to($(this).find(".inner-left"),.5,{scale:1,transformOrigin:"center center",ease:Linear.easeOut}).timeScale(1),TweenMax.to($(this).find(".inner-right"),.5,{scale:1,transformOrigin:"center center",ease:Linear.easeOut}).timeScale(1),TweenMax.to($(this).find(".outer-full"),.3,{rotation:"0",transformOrigin:"center 49%",ease:Linear.easeIn,repeat:0}).timeScale(1),TweenMax.to($(this).find(".outer-top"),.3,{rotation:"0",transformOrigin:"center center",ease:Linear.easeIn,repeat:0}).timeScale(1),TweenMax.to($(this).find(".inner-left"),.3,{rotation:"0",transformOrigin:"center center",ease:Linear.easeIn,repeat:0}).timeScale(1),TweenMax.to($(this).find(".inner-right"),.3,{rotation:"0",transformOrigin:"center center",ease:Linear.easeIn,repeat:0}).timeScale(1)}),$(".bubble-1").click(function(){document.querySelector("#card1");$("html, body").animate({scrollTop:$("#card1").position().top+($("#card1").height()-window.innerHeight)/2},800,serviceSliderAnimations)}),$(".bubble-2").click(function(){$("html, body").animate({scrollTop:$("#card2").position().top+($("#card2").height()-window.innerHeight)/2},1100,serviceSliderAnimations)}),$(".bubble-3").click(function(){$("html, body").animate({scrollTop:$("#card3").position().top+($("#card3").height()-window.innerHeight)/2},1400,serviceSliderAnimations)}),$(".bubble-4").click(function(){$("html, body").animate({scrollTop:$("#card4").position().top+($("#card4").height()-window.innerHeight)/2},1700,serviceSliderAnimations)})}if(html.classList.contains("touch")|window.innerWidth<=1020){"services"===getQueryString("ref")&&$("html, body").animate({scrollTop:$("section.services").offset().top},600);var titleSection=document.querySelector(".home-title"),navHeight=document.querySelector(".nav").offsetHeight;titleSection.style.height=window.innerHeight+"px",$(".scrollDown").click(function(){var e=document.querySelector("#card1"),t=(e.currentStyle||window.getComputedStyle(e)).marginBottom,n=parseInt(t,10);$("html, body").animate({scrollTop:$("#card1").offset().top-n},600)});var slideInLeftDelay=document.querySelectorAll(".slide-in-left-delay"),slideInDown=document.querySelectorAll(".mobile-bg"),navDown=document.querySelector("nav");TweenMax.to(slideInLeftDelay,.6,{x:0,opacity:1,delay:.8,ease:Power1.easeNone}).timeScale(1),TweenMax.to(slideInDown,1,{top:0,ease:Power3.easeInOut}).timeScale(1),$(".mobile-service-home").click(function(){$(mobileMenuBtn).removeClass("open"),$(mobileMenuBtn).addClass("closed"),TweenMax.to(".mobile-menu",.4,{xPercent:140,ease:Power1.easeOut}).timeScale(1),TweenMax.to("html",.1,{overflowY:"auto",ease:Power1.easeOut}).timeScale(1),TweenMax.to(".logo-mobile",.2,{fill:"#000000",ease:Power1.easeOut}).timeScale(1),setTimeout(function(){$("html, body").animate({scrollTop:$("#card1").offset().top},600)},400)})}