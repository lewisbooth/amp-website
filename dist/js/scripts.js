"use strict";function initPageTransitions(){var e=document.querySelector(".page-transition"),n=document.querySelectorAll(".page-transition-link");for(i=0;i<n.length;i++)n[i].addEventListener("click",function(o){o.preventDefault();var t=n[i].getAttribute("href");e.classList.add("page-transition-active"),setTimeout(function(e){window.location.replace(t)},500)})}function navLoad(){var e="/"===window.location.pathname?.5:0;TweenMax.to($("nav"),1,{y:0,delay:e,ease:Power3.easeInOut}).timeScale(1)}function getDarkNavAreas(){darkNavAreas=[];for(var e=document.querySelectorAll(".dark-nav"),n=0;n<e.length;n++){var o=e[n].getBoundingClientRect(),t=nav.getBoundingClientRect(),a=t.top+t.height/2;darkNavAreas.push([o.top+(document.documentElement.scrollTop+document.body.scrollTop)-a,o.bottom+(document.documentElement.scrollTop+document.body.scrollTop)-a])}}function navRecolour(e){getDarkNavAreas();for(var n=!1,o=0;o<darkNavAreas.length;o++)document.documentElement.scrollTop+document.body.scrollTop>=darkNavAreas[o][0]&&document.documentElement.scrollTop+document.body.scrollTop<=darkNavAreas[o][1]&&(n=!0);n?$("nav").addClass("dark"):$("nav").removeClass("dark")}var html=document.querySelector("html"),nav=document.querySelector("nav .container"),darkNavAreas=[],pageYOffset=0;window.onload=function(){document.querySelector("#canvas")&&initCanvas(),navLoad(),load(),getDarkNavAreas(),initPageTransitions()},window.addEventListener("scroll",function(e){navRecolour(e)}),window.addEventListener("resize",getDarkNavAreas());var mobileMenuBtn=document.querySelector(".mobile-menu-btn");if(html.classList.contains("touch")|window.innerWidth<=1020){$(mobileMenuBtn).click(function(){mobileMenuBtn.classList.contains("closed")?($(mobileMenuBtn).removeClass("closed"),$(mobileMenuBtn).addClass("open"),TweenMax.to(".mobile-menu",.4,{transform:"translateX(0)",ease:Power1.easeOut}).timeScale(1),TweenMax.to("html",.1,{overflowY:"hidden",ease:Power1.easeOut}).timeScale(1),TweenMax.to(".logo-mobile",.2,{fill:"#ffffff",ease:Power1.easeOut}).timeScale(1)):($(mobileMenuBtn).removeClass("open"),$(mobileMenuBtn).addClass("closed"),TweenMax.to(".mobile-menu",.4,{xPercent:140,ease:Power1.easeOut}).timeScale(1),TweenMax.to("html",.1,{overflowY:"auto",ease:Power1.easeOut}).timeScale(1),TweenMax.to(".logo-mobile",.2,{fill:"#000000",ease:Power1.easeOut}).timeScale(1))});var menuWrapper=document.querySelector(".menu-wrapper");menuWrapper.style.height=window.innerHeight+"px"}