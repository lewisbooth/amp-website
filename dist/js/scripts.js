"use strict";function initPageTransitions(){var e=document.querySelector(".page-transition"),t=document.querySelectorAll(".page-transition-link");for(i=0;i<t.length;i++)t[i].addEventListener("click",function(t){t.preventDefault();var n=t.target.getAttribute("href")||"/";e.classList.add("page-transition-active"),setTimeout(function(e){window.location.replace(n)},500)})}function navLoad(){var e="/"===window.location.pathname?.5:0;TweenMax.to($("nav"),1,{y:0,delay:e,ease:Power3.easeInOut}).timeScale(1)}function getDarkNavAreas(){darkNavAreas=[];for(var e=document.querySelectorAll(".dark-nav"),t=0;t<e.length;t++){var n=e[t].getBoundingClientRect(),o=nav.getBoundingClientRect(),a=o.top+o.height/2;darkNavAreas.push([n.top+(document.documentElement.scrollTop+document.body.scrollTop)-a,n.bottom+(document.documentElement.scrollTop+document.body.scrollTop)-a])}}function navRecolour(e){getDarkNavAreas();for(var t=!1,n=0;n<darkNavAreas.length;n++)document.documentElement.scrollTop+document.body.scrollTop>=darkNavAreas[n][0]&&document.documentElement.scrollTop+document.body.scrollTop<=darkNavAreas[n][1]&&(t=!0);t?$("nav").addClass("dark"):$("nav").removeClass("dark")}var html=document.querySelector("html"),nav=document.querySelector("nav .container"),darkNavAreas=[],pageYOffset=0;window.onload=function(){document.querySelector("#canvas")&&initCanvas(),navLoad(),load(),getDarkNavAreas(),initPageTransitions()},window.addEventListener("scroll",function(e){navRecolour(e)}),window.addEventListener("resize",getDarkNavAreas());var mobileMenuBtn=document.querySelector(".mobile-menu-btn");if(html.classList.contains("touch")|window.innerWidth<=1020){$(mobileMenuBtn).click(function(){mobileMenuBtn.classList.contains("closed")?($(mobileMenuBtn).removeClass("closed"),$(mobileMenuBtn).addClass("open"),TweenMax.to(".mobile-menu",.4,{transform:"translateX(0)",ease:Power1.easeOut}).timeScale(1),TweenMax.to("html",.1,{overflowY:"hidden",ease:Power1.easeOut}).timeScale(1),TweenMax.to(".logo-mobile",.2,{fill:"#ffffff",ease:Power1.easeOut}).timeScale(1)):($(mobileMenuBtn).removeClass("open"),$(mobileMenuBtn).addClass("closed"),TweenMax.to(".mobile-menu",.4,{xPercent:140,ease:Power1.easeOut}).timeScale(1),TweenMax.to("html",.1,{overflowY:"auto",ease:Power1.easeOut}).timeScale(1),TweenMax.to(".logo-mobile",.2,{fill:"#000000",ease:Power1.easeOut}).timeScale(1))});var menuWrapper=document.querySelector(".menu-wrapper");menuWrapper.style.height=window.innerHeight+"px"}